import{a as s}from"./chunk-M2JW2GFW.js";import"./chunk-SXMPUQ6M.js";s();var L=async(n,e={})=>{Array.isArray(e)&&(e=e[0]);let t=document.createElement("a"),r=n;"body"in n&&(r=await async function(u,i){let o=u.getReader(),d=new ReadableStream({start:l=>async function b(){return o.read().then(({done:p,value:w})=>{if(!p)return l.enqueue(w),b();l.close()})}()}),y=new Response(d),f=await y.blob();return o.releaseLock(),new Blob([f],{type:i})}(n.body,n.headers.get("content-type"))),t.download=e.fileName||"Untitled",t.href=URL.createObjectURL(await r);let c=()=>{typeof a=="function"&&a()},a=e.legacySetup&&e.legacySetup(c,()=>a(reject),t);return t.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(t.href),3e4),c()}),t.click(),null};export{L as default};
