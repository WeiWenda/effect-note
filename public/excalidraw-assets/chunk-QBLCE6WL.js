import{Ga as kt,a as gt,bb as dt}from"./chunk-SDI36ZKF.js";import{a as k}from"./chunk-M2JW2GFW.js";import{e as le}from"./chunk-SXMPUQ6M.js";k();k();k();k();var se={};function Zn(n,r){let t=r||se,e=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,a=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return bt(n,e,a)}function bt(n,r,t){if(ce(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(r&&"alt"in n&&n.alt)return n.alt;if("children"in n)return yt(n.children,r,t)}return Array.isArray(n)?yt(n,r,t):""}function yt(n,r,t){let e=[],a=-1;for(;++a<n.length;)e[a]=bt(n[a],r,t);return e.join("")}function ce(n){return!!(n&&typeof n=="object")}k();k();k();function Y(n,r,t,e){let a=n.length,i=0,u;if(r<0?r=-r>a?0:a+r:r=r>a?a:r,t=t>0?t:0,e.length<1e4)u=Array.from(e),u.unshift(r,t),n.splice(...u);else for(t&&n.splice(r,t);i<e.length;)u=e.slice(i,i+1e4),u.unshift(r,0),n.splice(...u),i+=1e4,r+=1e4}function K(n,r){return n.length>0?(Y(n,n.length,0,r),n):r}var St={}.hasOwnProperty;function wt(n){let r={},t=-1;for(;++t<n.length;)pe(r,n[t]);return r}function pe(n,r){let t;for(t in r){let a=(St.call(n,t)?n[t]:void 0)||(n[t]={}),i=r[t],u;if(i)for(u in i){St.call(a,u)||(a[u]=[]);let o=i[u];me(a[u],Array.isArray(o)?o:o?[o]:[])}}}function me(n,r){let t=-1,e=[];for(;++t<r.length;)(r[t].add==="after"?n:e).push(r[t]);Y(n,0,0,e)}k();k();k();k();var Et=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var nn=mn(/[A-Za-z]/),X=mn(/[\dA-Za-z]/),Ft=mn(/[#-'*+\--9=?A-Z^-~]/);function In(n){return n!==null&&(n<32||n===127)}var Tn=mn(/\d/),Ct=mn(/[\dA-Fa-f]/),At=mn(/[!-/:-@[-`{-~]/);function S(n){return n!==null&&n<-2}function W(n){return n!==null&&(n<0||n===32)}function A(n){return n===-2||n===-1||n===32}var zt=mn(Et),It=mn(/\s/);function mn(n){return r;function r(t){return t!==null&&n.test(String.fromCharCode(t))}}function z(n,r,t,e){let a=e?e-1:Number.POSITIVE_INFINITY,i=0;return u;function u(f){return A(f)?(n.enter(t),o(f)):r(f)}function o(f){return A(f)&&i++<a?(n.consume(f),o):(n.exit(t),r(f))}}var Tt={tokenize:he};function he(n){let r=n.attempt(this.parser.constructs.contentInitial,e,a),t;return r;function e(o){if(o===null){n.consume(o);return}return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),z(n,r,"linePrefix")}function a(o){return n.enter("paragraph"),i(o)}function i(o){let f=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=f),t=f,u(o)}function u(o){if(o===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(o);return}return S(o)?(n.consume(o),n.exit("chunkText"),i):(n.consume(o),u)}}k();var Lt={tokenize:fe},Bt={tokenize:xe};function fe(n){let r=this,t=[],e=0,a,i,u;return o;function o(w){if(e<t.length){let R=t[e];return r.containerState=R[1],n.attempt(R[0].continuation,f,m)(w)}return m(w)}function f(w){if(e++,r.containerState._closeFlow){r.containerState._closeFlow=void 0,a&&H();let R=r.events.length,j=R,d;for(;j--;)if(r.events[j][0]==="exit"&&r.events[j][1].type==="chunkFlow"){d=r.events[j][1].end;break}b(e);let _=R;for(;_<r.events.length;)r.events[_][1].end=Object.assign({},d),_++;return Y(r.events,j+1,0,r.events.slice(R)),r.events.length=_,m(w)}return o(w)}function m(w){if(e===t.length){if(!a)return h(w);if(a.currentConstruct&&a.currentConstruct.concrete)return L(w);r.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return r.containerState={},n.check(Bt,c,x)(w)}function c(w){return a&&H(),b(e),h(w)}function x(w){return r.parser.lazy[r.now().line]=e!==t.length,u=r.now().offset,L(w)}function h(w){return r.containerState={},n.attempt(Bt,p,L)(w)}function p(w){return e++,t.push([r.currentConstruct,r.containerState]),h(w)}function L(w){if(w===null){a&&H(),b(0),n.consume(w);return}return a=a||r.parser.flow(r.now()),n.enter("chunkFlow",{contentType:"flow",previous:i,_tokenizer:a}),O(w)}function O(w){if(w===null){M(n.exit("chunkFlow"),!0),b(0),n.consume(w);return}return S(w)?(n.consume(w),M(n.exit("chunkFlow")),e=0,r.interrupt=void 0,o):(n.consume(w),O)}function M(w,R){let j=r.sliceStream(w);if(R&&j.push(null),w.previous=i,i&&(i.next=w),i=w,a.defineSkip(w.start),a.write(j),r.parser.lazy[w.start.line]){let d=a.events.length;for(;d--;)if(a.events[d][1].start.offset<u&&(!a.events[d][1].end||a.events[d][1].end.offset>u))return;let _=r.events.length,Q=_,U,G;for(;Q--;)if(r.events[Q][0]==="exit"&&r.events[Q][1].type==="chunkFlow"){if(U){G=r.events[Q][1].end;break}U=!0}for(b(e),d=_;d<r.events.length;)r.events[d][1].end=Object.assign({},G),d++;Y(r.events,Q+1,0,r.events.slice(_)),r.events.length=d}}function b(w){let R=t.length;for(;R-- >w;){let j=t[R];r.containerState=j[1],j[0].exit.call(r,n)}t.length=w}function H(){a.write([null]),i=void 0,a=void 0,r.containerState._closeFlow=void 0}}function xe(n,r,t){return z(n,n.attempt(this.parser.constructs.document,r,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}k();k();k();k();function Yn(n){if(n===null||W(n)||It(n))return 1;if(zt(n))return 2}k();function Sn(n,r,t){let e=[],a=-1;for(;++a<n.length;){let i=n[a].resolveAll;i&&!e.includes(i)&&(r=i(r,t),e.push(i))}return r}var Bn={name:"attention",tokenize:ke,resolveAll:ge};function ge(n,r){let t=-1,e,a,i,u,o,f,m,c;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(e=t;e--;)if(n[e][0]==="exit"&&n[e][1].type==="attentionSequence"&&n[e][1]._open&&r.sliceSerialize(n[e][1]).charCodeAt(0)===r.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[e][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[e][1].end.offset-n[e][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;f=n[e][1].end.offset-n[e][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;let x=Object.assign({},n[e][1].end),h=Object.assign({},n[t][1].start);Ot(x,-f),Ot(h,f),u={type:f>1?"strongSequence":"emphasisSequence",start:x,end:Object.assign({},n[e][1].end)},o={type:f>1?"strongSequence":"emphasisSequence",start:Object.assign({},n[t][1].start),end:h},i={type:f>1?"strongText":"emphasisText",start:Object.assign({},n[e][1].end),end:Object.assign({},n[t][1].start)},a={type:f>1?"strong":"emphasis",start:Object.assign({},u.start),end:Object.assign({},o.end)},n[e][1].end=Object.assign({},u.start),n[t][1].start=Object.assign({},o.end),m=[],n[e][1].end.offset-n[e][1].start.offset&&(m=K(m,[["enter",n[e][1],r],["exit",n[e][1],r]])),m=K(m,[["enter",a,r],["enter",u,r],["exit",u,r],["enter",i,r]]),m=K(m,Sn(r.parser.constructs.insideSpan.null,n.slice(e+1,t),r)),m=K(m,[["exit",i,r],["enter",o,r],["exit",o,r],["exit",a,r]]),n[t][1].end.offset-n[t][1].start.offset?(c=2,m=K(m,[["enter",n[t][1],r],["exit",n[t][1],r]])):c=0,Y(n,e-1,t-e+3,m),t=e+m.length-c-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function ke(n,r){let t=this.parser.constructs.attentionMarkers.null,e=this.previous,a=Yn(e),i;return u;function u(f){return i=f,n.enter("attentionSequence"),o(f)}function o(f){if(f===i)return n.consume(f),o;let m=n.exit("attentionSequence"),c=Yn(f),x=!c||c===2&&a||t.includes(f),h=!a||a===2&&c||t.includes(e);return m._open=!!(i===42?x:x&&(a||!h)),m._close=!!(i===42?h:h&&(c||!x)),r(f)}}function Ot(n,r){n.column+=r,n.offset+=r,n._bufferIndex+=r}k();var Gn={name:"autolink",tokenize:de};function de(n,r,t){let e=0;return a;function a(p){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(p),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),i}function i(p){return nn(p)?(n.consume(p),u):m(p)}function u(p){return p===43||p===45||p===46||X(p)?(e=1,o(p)):m(p)}function o(p){return p===58?(n.consume(p),e=0,f):(p===43||p===45||p===46||X(p))&&e++<32?(n.consume(p),o):(e=0,m(p))}function f(p){return p===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(p),n.exit("autolinkMarker"),n.exit("autolink"),r):p===null||p===32||p===60||In(p)?t(p):(n.consume(p),f)}function m(p){return p===64?(n.consume(p),c):Ft(p)?(n.consume(p),m):t(p)}function c(p){return X(p)?x(p):t(p)}function x(p){return p===46?(n.consume(p),e=0,c):p===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(p),n.exit("autolinkMarker"),n.exit("autolink"),r):h(p)}function h(p){if((p===45||X(p))&&e++<63){let L=p===45?h:x;return n.consume(p),L}return t(p)}}k();var hn={tokenize:ye,partial:!0};function ye(n,r,t){return e;function e(i){return A(i)?z(n,a,"linePrefix")(i):a(i)}function a(i){return i===null||S(i)?r(i):t(i)}}k();var Dn={name:"blockQuote",tokenize:be,continuation:{tokenize:Se},exit:we};function be(n,r,t){let e=this;return a;function a(u){if(u===62){let o=e.containerState;return o.open||(n.enter("blockQuote",{_container:!0}),o.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(u),n.exit("blockQuoteMarker"),i}return t(u)}function i(u){return A(u)?(n.enter("blockQuotePrefixWhitespace"),n.consume(u),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),r):(n.exit("blockQuotePrefix"),r(u))}}function Se(n,r,t){let e=this;return a;function a(u){return A(u)?z(n,i,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):i(u)}function i(u){return n.attempt(Dn,r,t)(u)}}function we(n){n.exit("blockQuote")}k();var Pn={name:"characterEscape",tokenize:Ee};function Ee(n,r,t){return e;function e(i){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(i),n.exit("escapeMarker"),a}function a(i){return At(i)?(n.enter("characterEscapeValue"),n.consume(i),n.exit("characterEscapeValue"),n.exit("characterEscape"),r):t(i)}}k();k();var Dt=document.createElement("i");function wn(n){let r="&"+n+";";Dt.innerHTML=r;let t=Dt.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===r?!1:t}var _n={name:"characterReference",tokenize:Fe};function Fe(n,r,t){let e=this,a=0,i,u;return o;function o(x){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(x),n.exit("characterReferenceMarker"),f}function f(x){return x===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(x),n.exit("characterReferenceMarkerNumeric"),m):(n.enter("characterReferenceValue"),i=31,u=X,c(x))}function m(x){return x===88||x===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(x),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),i=6,u=Ct,c):(n.enter("characterReferenceValue"),i=7,u=Tn,c(x))}function c(x){if(x===59&&a){let h=n.exit("characterReferenceValue");return u===X&&!wn(e.sliceSerialize(h))?t(x):(n.enter("characterReferenceMarker"),n.consume(x),n.exit("characterReferenceMarker"),n.exit("characterReference"),r)}return u(x)&&a++<i?(n.consume(x),c):t(x)}}k();var Pt={tokenize:Ae,partial:!0},Mn={name:"codeFenced",tokenize:Ce,concrete:!0};function Ce(n,r,t){let e=this,a={tokenize:j,partial:!0},i=0,u=0,o;return f;function f(d){return m(d)}function m(d){let _=e.events[e.events.length-1];return i=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,o=d,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),c(d)}function c(d){return d===o?(u++,n.consume(d),c):u<3?t(d):(n.exit("codeFencedFenceSequence"),A(d)?z(n,x,"whitespace")(d):x(d))}function x(d){return d===null||S(d)?(n.exit("codeFencedFence"),e.interrupt?r(d):n.check(Pt,O,R)(d)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),h(d))}function h(d){return d===null||S(d)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),x(d)):A(d)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),z(n,p,"whitespace")(d)):d===96&&d===o?t(d):(n.consume(d),h)}function p(d){return d===null||S(d)?x(d):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),L(d))}function L(d){return d===null||S(d)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),x(d)):d===96&&d===o?t(d):(n.consume(d),L)}function O(d){return n.attempt(a,R,M)(d)}function M(d){return n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),b}function b(d){return i>0&&A(d)?z(n,H,"linePrefix",i+1)(d):H(d)}function H(d){return d===null||S(d)?n.check(Pt,O,R)(d):(n.enter("codeFlowValue"),w(d))}function w(d){return d===null||S(d)?(n.exit("codeFlowValue"),H(d)):(n.consume(d),w)}function R(d){return n.exit("codeFenced"),r(d)}function j(d,_,Q){let U=0;return G;function G(I){return d.enter("lineEnding"),d.consume(I),d.exit("lineEnding"),N}function N(I){return d.enter("codeFencedFence"),A(I)?z(d,B,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):B(I)}function B(I){return I===o?(d.enter("codeFencedFenceSequence"),F(I)):Q(I)}function F(I){return I===o?(U++,d.consume(I),F):U>=u?(d.exit("codeFencedFenceSequence"),A(I)?z(d,T,"whitespace")(I):T(I)):Q(I)}function T(I){return I===null||S(I)?(d.exit("codeFencedFence"),_(I)):Q(I)}}}function Ae(n,r,t){let e=this;return a;function a(u){return u===null?t(u):(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),i)}function i(u){return e.parser.lazy[e.now().line]?t(u):r(u)}}k();var Ln={name:"codeIndented",tokenize:Ie},ze={tokenize:Te,partial:!0};function Ie(n,r,t){let e=this;return a;function a(m){return n.enter("codeIndented"),z(n,i,"linePrefix",5)(m)}function i(m){let c=e.events[e.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?u(m):t(m)}function u(m){return m===null?f(m):S(m)?n.attempt(ze,u,f)(m):(n.enter("codeFlowValue"),o(m))}function o(m){return m===null||S(m)?(n.exit("codeFlowValue"),u(m)):(n.consume(m),o)}function f(m){return n.exit("codeIndented"),r(m)}}function Te(n,r,t){let e=this;return a;function a(u){return e.parser.lazy[e.now().line]?t(u):S(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),a):z(n,i,"linePrefix",5)(u)}function i(u){let o=e.events[e.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?r(u):S(u)?a(u):t(u)}}k();var Jn={name:"codeText",tokenize:Oe,resolve:Be,previous:Le};function Be(n){let r=n.length-4,t=3,e,a;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[r][1].type==="lineEnding"||n[r][1].type==="space")){for(e=t;++e<r;)if(n[e][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[r][1].type="codeTextPadding",t+=2,r-=2;break}}for(e=t-1,r++;++e<=r;)a===void 0?e!==r&&n[e][1].type!=="lineEnding"&&(a=e):(e===r||n[e][1].type==="lineEnding")&&(n[a][1].type="codeTextData",e!==a+2&&(n[a][1].end=n[e-1][1].end,n.splice(a+2,e-a-2),r-=e-a-2,e=a+2),a=void 0);return n}function Le(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Oe(n,r,t){let e=this,a=0,i,u;return o;function o(h){return n.enter("codeText"),n.enter("codeTextSequence"),f(h)}function f(h){return h===96?(n.consume(h),a++,f):(n.exit("codeTextSequence"),m(h))}function m(h){return h===null?t(h):h===32?(n.enter("space"),n.consume(h),n.exit("space"),m):h===96?(u=n.enter("codeTextSequence"),i=0,x(h)):S(h)?(n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),m):(n.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||S(h)?(n.exit("codeTextData"),m(h)):(n.consume(h),c)}function x(h){return h===96?(n.consume(h),i++,x):i===a?(n.exit("codeTextSequence"),n.exit("codeText"),r(h)):(u.type="codeTextData",c(h))}}k();k();function Rn(n){let r={},t=-1,e,a,i,u,o,f,m;for(;++t<n.length;){for(;t in r;)t=r[t];if(e=n[t],t&&e[1].type==="chunkFlow"&&n[t-1][1].type==="listItemPrefix"&&(f=e[1]._tokenizer.events,i=0,i<f.length&&f[i][1].type==="lineEndingBlank"&&(i+=2),i<f.length&&f[i][1].type==="content"))for(;++i<f.length&&f[i][1].type!=="content";)f[i][1].type==="chunkText"&&(f[i][1]._isInFirstContentOfListItem=!0,i++);if(e[0]==="enter")e[1].contentType&&(Object.assign(r,De(n,t)),t=r[t],m=!0);else if(e[1]._container){for(i=t,a=void 0;i--&&(u=n[i],u[1].type==="lineEnding"||u[1].type==="lineEndingBlank");)u[0]==="enter"&&(a&&(n[a][1].type="lineEndingBlank"),u[1].type="lineEnding",a=i);a&&(e[1].end=Object.assign({},n[a][1].start),o=n.slice(a,t),o.unshift(e),Y(n,a,t-a+1,o))}}return!m}function De(n,r){let t=n[r][1],e=n[r][2],a=r-1,i=[],u=t._tokenizer||e.parser[t.contentType](t.start),o=u.events,f=[],m={},c,x,h=-1,p=t,L=0,O=0,M=[O];for(;p;){for(;n[++a][1]!==p;);i.push(a),p._tokenizer||(c=e.sliceStream(p),p.next||c.push(null),x&&u.defineSkip(p.start),p._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(c),p._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),x=p,p=p.next}for(p=t;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(O=h+1,M.push(O),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(u.events=[],p?(p._tokenizer=void 0,p.previous=void 0):M.pop(),h=M.length;h--;){let b=o.slice(M[h],M[h+1]),H=i.pop();f.unshift([H,H+b.length-1]),Y(n,H,2,b)}for(h=-1;++h<f.length;)m[L+f[h][0]]=L+f[h][1],L+=f[h][1]-f[h][0]-1;return m}var Kn={tokenize:Me,resolve:_e},Pe={tokenize:Re,partial:!0};function _e(n){return Rn(n),n}function Me(n,r){let t;return e;function e(o){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),a(o)}function a(o){return o===null?i(o):S(o)?n.check(Pe,u,i)(o):(n.consume(o),a)}function i(o){return n.exit("chunkContent"),n.exit("content"),r(o)}function u(o){return n.consume(o),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,a}}function Re(n,r,t){let e=this;return a;function a(u){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),z(n,i,"linePrefix")}function i(u){if(u===null||S(u))return t(u);let o=e.events[e.events.length-1];return!e.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?r(u):n.interrupt(e.parser.constructs.flow,t,r)(u)}}k();k();function jn(n,r,t,e,a,i,u,o,f){let m=f||Number.POSITIVE_INFINITY,c=0;return x;function x(b){return b===60?(n.enter(e),n.enter(a),n.enter(i),n.consume(b),n.exit(i),h):b===null||b===32||b===41||In(b)?t(b):(n.enter(e),n.enter(u),n.enter(o),n.enter("chunkString",{contentType:"string"}),O(b))}function h(b){return b===62?(n.enter(i),n.consume(b),n.exit(i),n.exit(a),n.exit(e),r):(n.enter(o),n.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===62?(n.exit("chunkString"),n.exit(o),h(b)):b===null||b===60||S(b)?t(b):(n.consume(b),b===92?L:p)}function L(b){return b===60||b===62||b===92?(n.consume(b),p):p(b)}function O(b){return!c&&(b===null||b===41||W(b))?(n.exit("chunkString"),n.exit(o),n.exit(u),n.exit(e),r(b)):c<m&&b===40?(n.consume(b),c++,O):b===41?(n.consume(b),c--,O):b===null||b===32||b===40||In(b)?t(b):(n.consume(b),b===92?M:O)}function M(b){return b===40||b===41||b===92?(n.consume(b),O):O(b)}}k();function Hn(n,r,t,e,a,i){let u=this,o=0,f;return m;function m(p){return n.enter(e),n.enter(a),n.consume(p),n.exit(a),n.enter(i),c}function c(p){return o>999||p===null||p===91||p===93&&!f||p===94&&!o&&"_hiddenFootnoteSupport"in u.parser.constructs?t(p):p===93?(n.exit(i),n.enter(a),n.consume(p),n.exit(a),n.exit(e),r):S(p)?(n.enter("lineEnding"),n.consume(p),n.exit("lineEnding"),c):(n.enter("chunkString",{contentType:"string"}),x(p))}function x(p){return p===null||p===91||p===93||S(p)||o++>999?(n.exit("chunkString"),c(p)):(n.consume(p),f||(f=!A(p)),p===92?h:x)}function h(p){return p===91||p===92||p===93?(n.consume(p),o++,x):x(p)}}k();function qn(n,r,t,e,a,i){let u;return o;function o(h){return h===34||h===39||h===40?(n.enter(e),n.enter(a),n.consume(h),n.exit(a),u=h===40?41:h,f):t(h)}function f(h){return h===u?(n.enter(a),n.consume(h),n.exit(a),n.exit(e),r):(n.enter(i),m(h))}function m(h){return h===u?(n.exit(i),f(u)):h===null?t(h):S(h)?(n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),z(n,m,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),c(h))}function c(h){return h===u||h===null||S(h)?(n.exit("chunkString"),m(h)):(n.consume(h),h===92?x:c)}function x(h){return h===u||h===92?(n.consume(h),c):c(h)}}k();function gn(n,r){let t;return e;function e(a){return S(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),t=!0,e):A(a)?z(n,e,t?"linePrefix":"lineSuffix")(a):r(a)}}k();function cn(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var Xn={name:"definition",tokenize:He},je={tokenize:qe,partial:!0};function He(n,r,t){let e=this,a;return i;function i(p){return n.enter("definition"),u(p)}function u(p){return Hn.call(e,n,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return a=cn(e.sliceSerialize(e.events[e.events.length-1][1]).slice(1,-1)),p===58?(n.enter("definitionMarker"),n.consume(p),n.exit("definitionMarker"),f):t(p)}function f(p){return W(p)?gn(n,m)(p):m(p)}function m(p){return jn(n,c,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function c(p){return n.attempt(je,x,x)(p)}function x(p){return A(p)?z(n,h,"whitespace")(p):h(p)}function h(p){return p===null||S(p)?(n.exit("definition"),e.parser.defined.push(a),r(p)):t(p)}}function qe(n,r,t){return e;function e(o){return W(o)?gn(n,a)(o):t(o)}function a(o){return qn(n,i,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function i(o){return A(o)?z(n,u,"whitespace")(o):u(o)}function u(o){return o===null||S(o)?r(o):t(o)}}k();var vn={name:"hardBreakEscape",tokenize:Ne};function Ne(n,r,t){return e;function e(i){return n.enter("hardBreakEscape"),n.consume(i),a}function a(i){return S(i)?(n.exit("hardBreakEscape"),r(i)):t(i)}}k();var nt={name:"headingAtx",tokenize:We,resolve:Ve};function Ve(n,r){let t=n.length-2,e=3,a,i;return n[e][1].type==="whitespace"&&(e+=2),t-2>e&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(e===t-1||t-4>e&&n[t-2][1].type==="whitespace")&&(t-=e+1===t?2:4),t>e&&(a={type:"atxHeadingText",start:n[e][1].start,end:n[t][1].end},i={type:"chunkText",start:n[e][1].start,end:n[t][1].end,contentType:"text"},Y(n,e,t-e+1,[["enter",a,r],["enter",i,r],["exit",i,r],["exit",a,r]])),n}function We(n,r,t){let e=0;return a;function a(c){return n.enter("atxHeading"),i(c)}function i(c){return n.enter("atxHeadingSequence"),u(c)}function u(c){return c===35&&e++<6?(n.consume(c),u):c===null||W(c)?(n.exit("atxHeadingSequence"),o(c)):t(c)}function o(c){return c===35?(n.enter("atxHeadingSequence"),f(c)):c===null||S(c)?(n.exit("atxHeading"),r(c)):A(c)?z(n,o,"whitespace")(c):(n.enter("atxHeadingText"),m(c))}function f(c){return c===35?(n.consume(c),f):(n.exit("atxHeadingSequence"),o(c))}function m(c){return c===null||c===35||W(c)?(n.exit("atxHeadingText"),o(c)):(n.consume(c),m)}}k();k();var _t=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],tt=["pre","script","style","textarea"];var et={name:"htmlFlow",tokenize:Ze,resolveTo:$e,concrete:!0},Qe={tokenize:Ge,partial:!0},Ue={tokenize:Ye,partial:!0};function $e(n){let r=n.length;for(;r--&&!(n[r][0]==="enter"&&n[r][1].type==="htmlFlow"););return r>1&&n[r-2][1].type==="linePrefix"&&(n[r][1].start=n[r-2][1].start,n[r+1][1].start=n[r-2][1].start,n.splice(r-2,2)),n}function Ze(n,r,t){let e=this,a,i,u,o,f;return m;function m(s){return c(s)}function c(s){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(s),x}function x(s){return s===33?(n.consume(s),h):s===47?(n.consume(s),i=!0,O):s===63?(n.consume(s),a=3,e.interrupt?r:l):nn(s)?(n.consume(s),u=String.fromCharCode(s),M):t(s)}function h(s){return s===45?(n.consume(s),a=2,p):s===91?(n.consume(s),a=5,o=0,L):nn(s)?(n.consume(s),a=4,e.interrupt?r:l):t(s)}function p(s){return s===45?(n.consume(s),e.interrupt?r:l):t(s)}function L(s){let v="CDATA[";return s===v.charCodeAt(o++)?(n.consume(s),o===v.length?e.interrupt?r:B:L):t(s)}function O(s){return nn(s)?(n.consume(s),u=String.fromCharCode(s),M):t(s)}function M(s){if(s===null||s===47||s===62||W(s)){let v=s===47,yn=u.toLowerCase();return!v&&!i&&tt.includes(yn)?(a=1,e.interrupt?r(s):B(s)):_t.includes(u.toLowerCase())?(a=6,v?(n.consume(s),b):e.interrupt?r(s):B(s)):(a=7,e.interrupt&&!e.parser.lazy[e.now().line]?t(s):i?H(s):w(s))}return s===45||X(s)?(n.consume(s),u+=String.fromCharCode(s),M):t(s)}function b(s){return s===62?(n.consume(s),e.interrupt?r:B):t(s)}function H(s){return A(s)?(n.consume(s),H):G(s)}function w(s){return s===47?(n.consume(s),G):s===58||s===95||nn(s)?(n.consume(s),R):A(s)?(n.consume(s),w):G(s)}function R(s){return s===45||s===46||s===58||s===95||X(s)?(n.consume(s),R):j(s)}function j(s){return s===61?(n.consume(s),d):A(s)?(n.consume(s),j):w(s)}function d(s){return s===null||s===60||s===61||s===62||s===96?t(s):s===34||s===39?(n.consume(s),f=s,_):A(s)?(n.consume(s),d):Q(s)}function _(s){return s===f?(n.consume(s),f=null,U):s===null||S(s)?t(s):(n.consume(s),_)}function Q(s){return s===null||s===34||s===39||s===47||s===60||s===61||s===62||s===96||W(s)?j(s):(n.consume(s),Q)}function U(s){return s===47||s===62||A(s)?w(s):t(s)}function G(s){return s===62?(n.consume(s),N):t(s)}function N(s){return s===null||S(s)?B(s):A(s)?(n.consume(s),N):t(s)}function B(s){return s===45&&a===2?(n.consume(s),q):s===60&&a===1?(n.consume(s),$):s===62&&a===4?(n.consume(s),tn):s===63&&a===3?(n.consume(s),l):s===93&&a===5?(n.consume(s),un):S(s)&&(a===6||a===7)?(n.exit("htmlFlowData"),n.check(Qe,an,F)(s)):s===null||S(s)?(n.exit("htmlFlowData"),F(s)):(n.consume(s),B)}function F(s){return n.check(Ue,T,an)(s)}function T(s){return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),I}function I(s){return s===null||S(s)?F(s):(n.enter("htmlFlowData"),B(s))}function q(s){return s===45?(n.consume(s),l):B(s)}function $(s){return s===47?(n.consume(s),u="",en):B(s)}function en(s){if(s===62){let v=u.toLowerCase();return tt.includes(v)?(n.consume(s),tn):B(s)}return nn(s)&&u.length<8?(n.consume(s),u+=String.fromCharCode(s),en):B(s)}function un(s){return s===93?(n.consume(s),l):B(s)}function l(s){return s===62?(n.consume(s),tn):s===45&&a===2?(n.consume(s),l):B(s)}function tn(s){return s===null||S(s)?(n.exit("htmlFlowData"),an(s)):(n.consume(s),tn)}function an(s){return n.exit("htmlFlow"),r(s)}}function Ye(n,r,t){let e=this;return a;function a(u){return S(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),i):t(u)}function i(u){return e.parser.lazy[e.now().line]?t(u):r(u)}}function Ge(n,r,t){return e;function e(a){return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),n.attempt(hn,r,t)}}k();var rt={name:"htmlText",tokenize:Je};function Je(n,r,t){let e=this,a,i,u;return o;function o(l){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(l),f}function f(l){return l===33?(n.consume(l),m):l===47?(n.consume(l),j):l===63?(n.consume(l),w):nn(l)?(n.consume(l),Q):t(l)}function m(l){return l===45?(n.consume(l),c):l===91?(n.consume(l),i=0,L):nn(l)?(n.consume(l),H):t(l)}function c(l){return l===45?(n.consume(l),p):t(l)}function x(l){return l===null?t(l):l===45?(n.consume(l),h):S(l)?(u=x,$(l)):(n.consume(l),x)}function h(l){return l===45?(n.consume(l),p):x(l)}function p(l){return l===62?q(l):l===45?h(l):x(l)}function L(l){let tn="CDATA[";return l===tn.charCodeAt(i++)?(n.consume(l),i===tn.length?O:L):t(l)}function O(l){return l===null?t(l):l===93?(n.consume(l),M):S(l)?(u=O,$(l)):(n.consume(l),O)}function M(l){return l===93?(n.consume(l),b):O(l)}function b(l){return l===62?q(l):l===93?(n.consume(l),b):O(l)}function H(l){return l===null||l===62?q(l):S(l)?(u=H,$(l)):(n.consume(l),H)}function w(l){return l===null?t(l):l===63?(n.consume(l),R):S(l)?(u=w,$(l)):(n.consume(l),w)}function R(l){return l===62?q(l):w(l)}function j(l){return nn(l)?(n.consume(l),d):t(l)}function d(l){return l===45||X(l)?(n.consume(l),d):_(l)}function _(l){return S(l)?(u=_,$(l)):A(l)?(n.consume(l),_):q(l)}function Q(l){return l===45||X(l)?(n.consume(l),Q):l===47||l===62||W(l)?U(l):t(l)}function U(l){return l===47?(n.consume(l),q):l===58||l===95||nn(l)?(n.consume(l),G):S(l)?(u=U,$(l)):A(l)?(n.consume(l),U):q(l)}function G(l){return l===45||l===46||l===58||l===95||X(l)?(n.consume(l),G):N(l)}function N(l){return l===61?(n.consume(l),B):S(l)?(u=N,$(l)):A(l)?(n.consume(l),N):U(l)}function B(l){return l===null||l===60||l===61||l===62||l===96?t(l):l===34||l===39?(n.consume(l),a=l,F):S(l)?(u=B,$(l)):A(l)?(n.consume(l),B):(n.consume(l),T)}function F(l){return l===a?(n.consume(l),a=void 0,I):l===null?t(l):S(l)?(u=F,$(l)):(n.consume(l),F)}function T(l){return l===null||l===34||l===39||l===60||l===61||l===96?t(l):l===47||l===62||W(l)?U(l):(n.consume(l),T)}function I(l){return l===47||l===62||W(l)?U(l):t(l)}function q(l){return l===62?(n.consume(l),n.exit("htmlTextData"),n.exit("htmlText"),r):t(l)}function $(l){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),en}function en(l){return A(l)?z(n,un,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):un(l)}function un(l){return n.enter("htmlTextData"),u(l)}}k();var kn={name:"labelEnd",tokenize:er,resolveTo:tr,resolveAll:nr},Ke={tokenize:rr},Xe={tokenize:ir},ve={tokenize:ur};function nr(n){let r=-1;for(;++r<n.length;){let t=n[r][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(n.splice(r+1,t.type==="labelImage"?4:2),t.type="data",r++)}return n}function tr(n,r){let t=n.length,e=0,a,i,u,o;for(;t--;)if(a=n[t][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;n[t][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(u){if(n[t][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=t,a.type!=="labelLink")){e=2;break}}else a.type==="labelEnd"&&(u=t);let f={type:n[i][1].type==="labelLink"?"link":"image",start:Object.assign({},n[i][1].start),end:Object.assign({},n[n.length-1][1].end)},m={type:"label",start:Object.assign({},n[i][1].start),end:Object.assign({},n[u][1].end)},c={type:"labelText",start:Object.assign({},n[i+e+2][1].end),end:Object.assign({},n[u-2][1].start)};return o=[["enter",f,r],["enter",m,r]],o=K(o,n.slice(i+1,i+e+3)),o=K(o,[["enter",c,r]]),o=K(o,Sn(r.parser.constructs.insideSpan.null,n.slice(i+e+4,u-3),r)),o=K(o,[["exit",c,r],n[u-2],n[u-1],["exit",m,r]]),o=K(o,n.slice(u+1)),o=K(o,[["exit",f,r]]),Y(n,i,n.length,o),n}function er(n,r,t){let e=this,a=e.events.length,i,u;for(;a--;)if((e.events[a][1].type==="labelImage"||e.events[a][1].type==="labelLink")&&!e.events[a][1]._balanced){i=e.events[a][1];break}return o;function o(h){return i?i._inactive?x(h):(u=e.parser.defined.includes(cn(e.sliceSerialize({start:i.end,end:e.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(h),n.exit("labelMarker"),n.exit("labelEnd"),f):t(h)}function f(h){return h===40?n.attempt(Ke,c,u?c:x)(h):h===91?n.attempt(Xe,c,u?m:x)(h):u?c(h):x(h)}function m(h){return n.attempt(ve,c,x)(h)}function c(h){return r(h)}function x(h){return i._balanced=!0,t(h)}}function rr(n,r,t){return e;function e(x){return n.enter("resource"),n.enter("resourceMarker"),n.consume(x),n.exit("resourceMarker"),a}function a(x){return W(x)?gn(n,i)(x):i(x)}function i(x){return x===41?c(x):jn(n,u,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(x)}function u(x){return W(x)?gn(n,f)(x):c(x)}function o(x){return t(x)}function f(x){return x===34||x===39||x===40?qn(n,m,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(x):c(x)}function m(x){return W(x)?gn(n,c)(x):c(x)}function c(x){return x===41?(n.enter("resourceMarker"),n.consume(x),n.exit("resourceMarker"),n.exit("resource"),r):t(x)}}function ir(n,r,t){let e=this;return a;function a(o){return Hn.call(e,n,i,u,"reference","referenceMarker","referenceString")(o)}function i(o){return e.parser.defined.includes(cn(e.sliceSerialize(e.events[e.events.length-1][1]).slice(1,-1)))?r(o):t(o)}function u(o){return t(o)}}function ur(n,r,t){return e;function e(i){return n.enter("reference"),n.enter("referenceMarker"),n.consume(i),n.exit("referenceMarker"),a}function a(i){return i===93?(n.enter("referenceMarker"),n.consume(i),n.exit("referenceMarker"),n.exit("reference"),r):t(i)}}k();var it={name:"labelStartImage",tokenize:ar,resolveAll:kn.resolveAll};function ar(n,r,t){let e=this;return a;function a(o){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(o),n.exit("labelImageMarker"),i}function i(o){return o===91?(n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelImage"),u):t(o)}function u(o){return o===94&&"_hiddenFootnoteSupport"in e.parser.constructs?t(o):r(o)}}k();var ut={name:"labelStartLink",tokenize:or,resolveAll:kn.resolveAll};function or(n,r,t){let e=this;return a;function a(u){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(u),n.exit("labelMarker"),n.exit("labelLink"),i}function i(u){return u===94&&"_hiddenFootnoteSupport"in e.parser.constructs?t(u):r(u)}}k();var On={name:"lineEnding",tokenize:lr};function lr(n,r){return t;function t(e){return n.enter("lineEnding"),n.consume(e),n.exit("lineEnding"),z(n,r,"linePrefix")}}k();k();var dn={name:"thematicBreak",tokenize:sr};function sr(n,r,t){let e=0,a;return i;function i(m){return n.enter("thematicBreak"),u(m)}function u(m){return a=m,o(m)}function o(m){return m===a?(n.enter("thematicBreakSequence"),f(m)):e>=3&&(m===null||S(m))?(n.exit("thematicBreak"),r(m)):t(m)}function f(m){return m===a?(n.consume(m),e++,f):(n.exit("thematicBreakSequence"),A(m)?z(n,o,"whitespace")(m):o(m))}}var J={name:"list",tokenize:mr,continuation:{tokenize:hr},exit:xr},cr={tokenize:gr,partial:!0},pr={tokenize:fr,partial:!0};function mr(n,r,t){let e=this,a=e.events[e.events.length-1],i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,u=0;return o;function o(p){let L=e.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(L==="listUnordered"?!e.containerState.marker||p===e.containerState.marker:Tn(p)){if(e.containerState.type||(e.containerState.type=L,n.enter(L,{_container:!0})),L==="listUnordered")return n.enter("listItemPrefix"),p===42||p===45?n.check(dn,t,m)(p):m(p);if(!e.interrupt||p===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),f(p)}return t(p)}function f(p){return Tn(p)&&++u<10?(n.consume(p),f):(!e.interrupt||u<2)&&(e.containerState.marker?p===e.containerState.marker:p===41||p===46)?(n.exit("listItemValue"),m(p)):t(p)}function m(p){return n.enter("listItemMarker"),n.consume(p),n.exit("listItemMarker"),e.containerState.marker=e.containerState.marker||p,n.check(hn,e.interrupt?t:c,n.attempt(cr,h,x))}function c(p){return e.containerState.initialBlankLine=!0,i++,h(p)}function x(p){return A(p)?(n.enter("listItemPrefixWhitespace"),n.consume(p),n.exit("listItemPrefixWhitespace"),h):t(p)}function h(p){return e.containerState.size=i+e.sliceSerialize(n.exit("listItemPrefix"),!0).length,r(p)}}function hr(n,r,t){let e=this;return e.containerState._closeFlow=void 0,n.check(hn,a,i);function a(o){return e.containerState.furtherBlankLines=e.containerState.furtherBlankLines||e.containerState.initialBlankLine,z(n,r,"listItemIndent",e.containerState.size+1)(o)}function i(o){return e.containerState.furtherBlankLines||!A(o)?(e.containerState.furtherBlankLines=void 0,e.containerState.initialBlankLine=void 0,u(o)):(e.containerState.furtherBlankLines=void 0,e.containerState.initialBlankLine=void 0,n.attempt(pr,r,u)(o))}function u(o){return e.containerState._closeFlow=!0,e.interrupt=void 0,z(n,n.attempt(J,r,t),"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function fr(n,r,t){let e=this;return z(n,a,"listItemIndent",e.containerState.size+1);function a(i){let u=e.events[e.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===e.containerState.size?r(i):t(i)}}function xr(n){n.exit(this.containerState.type)}function gr(n,r,t){let e=this;return z(n,a,"listItemPrefixWhitespace",e.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){let u=e.events[e.events.length-1];return!A(i)&&u&&u[1].type==="listItemPrefixWhitespace"?r(i):t(i)}}k();var Nn={name:"setextUnderline",tokenize:dr,resolveTo:kr};function kr(n,r){let t=n.length,e,a,i;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){e=t;break}n[t][1].type==="paragraph"&&(a=t)}else n[t][1].type==="content"&&n.splice(t,1),!i&&n[t][1].type==="definition"&&(i=t);let u={type:"setextHeading",start:Object.assign({},n[a][1].start),end:Object.assign({},n[n.length-1][1].end)};return n[a][1].type="setextHeadingText",i?(n.splice(a,0,["enter",u,r]),n.splice(i+1,0,["exit",n[e][1],r]),n[e][1].end=Object.assign({},n[i][1].end)):n[e][1]=u,n.push(["exit",u,r]),n}function dr(n,r,t){let e=this,a;return i;function i(m){let c=e.events.length,x;for(;c--;)if(e.events[c][1].type!=="lineEnding"&&e.events[c][1].type!=="linePrefix"&&e.events[c][1].type!=="content"){x=e.events[c][1].type==="paragraph";break}return!e.parser.lazy[e.now().line]&&(e.interrupt||x)?(n.enter("setextHeadingLine"),a=m,u(m)):t(m)}function u(m){return n.enter("setextHeadingLineSequence"),o(m)}function o(m){return m===a?(n.consume(m),o):(n.exit("setextHeadingLineSequence"),A(m)?z(n,f,"lineSuffix")(m):f(m))}function f(m){return m===null||S(m)?(n.exit("setextHeadingLine"),r(m)):t(m)}}var Mt={tokenize:yr};function yr(n){let r=this,t=n.attempt(hn,e,n.attempt(this.parser.constructs.flowInitial,a,z(n,n.attempt(this.parser.constructs.flow,a,n.attempt(Kn,a)),"linePrefix")));return t;function e(i){if(i===null){n.consume(i);return}return n.enter("lineEndingBlank"),n.consume(i),n.exit("lineEndingBlank"),r.currentConstruct=void 0,t}function a(i){if(i===null){n.consume(i);return}return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),r.currentConstruct=void 0,t}}k();var Rt={resolveAll:Nt()},jt=qt("string"),Ht=qt("text");function qt(n){return{tokenize:r,resolveAll:Nt(n==="text"?br:void 0)};function r(t){let e=this,a=this.parser.constructs[n],i=t.attempt(a,u,o);return u;function u(c){return m(c)?i(c):o(c)}function o(c){if(c===null){t.consume(c);return}return t.enter("data"),t.consume(c),f}function f(c){return m(c)?(t.exit("data"),i(c)):(t.consume(c),f)}function m(c){if(c===null)return!0;let x=a[c],h=-1;if(x)for(;++h<x.length;){let p=x[h];if(!p.previous||p.previous.call(e,e.previous))return!0}return!1}}}function Nt(n){return r;function r(t,e){let a=-1,i;for(;++a<=t.length;)i===void 0?t[a]&&t[a][1].type==="data"&&(i=a,a++):(!t[a]||t[a][1].type!=="data")&&(a!==i+2&&(t[i][1].end=t[a-1][1].end,t.splice(i+2,a-i-2),a=i+2),i=void 0);return n?n(t,e):t}}function br(n,r){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){let e=n[t-1][1],a=r.sliceStream(e),i=a.length,u=-1,o=0,f;for(;i--;){let m=a[i];if(typeof m=="string"){for(u=m.length;m.charCodeAt(u-1)===32;)o++,u--;if(u)break;u=-1}else if(m===-2)f=!0,o++;else if(m!==-1){i++;break}}if(o){let m={type:t===n.length||f||o<2?"lineSuffix":"hardBreakTrailing",start:{line:e.end.line,column:e.end.column-o,offset:e.end.offset-o,_index:e.start._index+i,_bufferIndex:i?u:e.start._bufferIndex+u},end:Object.assign({},e.end)};e.end=Object.assign({},m.start),e.start.offset===e.end.offset?Object.assign(e,m):(n.splice(t,0,["enter",m,r],["exit",m,r]),t+=2)}t++}return n}k();function Vt(n,r,t){let e=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),a={},i=[],u=[],o=[],f=!0,m={consume:R,enter:j,exit:d,attempt:U(_),check:U(Q),interrupt:U(Q,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:n,sliceStream:O,sliceSerialize:L,now:M,defineSkip:b,write:p},x=r.tokenize.call(c,m),h;return r.resolveAll&&i.push(r),c;function p(F){return u=K(u,F),H(),u[u.length-1]!==null?[]:(G(r,0),c.events=Sn(i,c.events,c),c.events)}function L(F,T){return wr(O(F),T)}function O(F){return Sr(u,F)}function M(){let{line:F,column:T,offset:I,_index:q,_bufferIndex:$}=e;return{line:F,column:T,offset:I,_index:q,_bufferIndex:$}}function b(F){a[F.line]=F.column,B()}function H(){let F;for(;e._index<u.length;){let T=u[e._index];if(typeof T=="string")for(F=e._index,e._bufferIndex<0&&(e._bufferIndex=0);e._index===F&&e._bufferIndex<T.length;)w(T.charCodeAt(e._bufferIndex));else w(T)}}function w(F){f=void 0,h=F,x=x(F)}function R(F){S(F)?(e.line++,e.column=1,e.offset+=F===-3?2:1,B()):F!==-1&&(e.column++,e.offset++),e._bufferIndex<0?e._index++:(e._bufferIndex++,e._bufferIndex===u[e._index].length&&(e._bufferIndex=-1,e._index++)),c.previous=F,f=!0}function j(F,T){let I=T||{};return I.type=F,I.start=M(),c.events.push(["enter",I,c]),o.push(I),I}function d(F){let T=o.pop();return T.end=M(),c.events.push(["exit",T,c]),T}function _(F,T){G(F,T.from)}function Q(F,T){T.restore()}function U(F,T){return I;function I(q,$,en){let un,l,tn,an;return Array.isArray(q)?v(q):"tokenize"in q?v([q]):s(q);function s(Z){return Cn;function Cn(on){let bn=on!==null&&Z[on],xn=on!==null&&Z.null,Un=[...Array.isArray(bn)?bn:bn?[bn]:[],...Array.isArray(xn)?xn:xn?[xn]:[]];return v(Un)(on)}}function v(Z){return un=Z,l=0,Z.length===0?en:yn(Z[l])}function yn(Z){return Cn;function Cn(on){return an=N(),tn=Z,Z.partial||(c.currentConstruct=Z),Z.name&&c.parser.constructs.disable.null.includes(Z.name)?Fn(on):Z.tokenize.call(T?Object.assign(Object.create(c),T):c,m,Qn,Fn)(on)}}function Qn(Z){return f=!0,F(tn,an),$}function Fn(Z){return f=!0,an.restore(),++l<un.length?yn(un[l]):en}}}function G(F,T){F.resolveAll&&!i.includes(F)&&i.push(F),F.resolve&&Y(c.events,T,c.events.length-T,F.resolve(c.events.slice(T),c)),F.resolveTo&&(c.events=F.resolveTo(c.events,c))}function N(){let F=M(),T=c.previous,I=c.currentConstruct,q=c.events.length,$=Array.from(o);return{restore:en,from:q};function en(){e=F,c.previous=T,c.currentConstruct=I,c.events.length=q,o=$,B()}}function B(){e.line in a&&e.column<2&&(e.column=a[e.line],e.offset+=a[e.line]-1)}}function Sr(n,r){let t=r.start._index,e=r.start._bufferIndex,a=r.end._index,i=r.end._bufferIndex,u;if(t===a)u=[n[t].slice(e,i)];else{if(u=n.slice(t,a),e>-1){let o=u[0];typeof o=="string"?u[0]=o.slice(e):u.shift()}i>0&&u.push(n[a].slice(0,i))}return u}function wr(n,r){let t=-1,e=[],a;for(;++t<n.length;){let i=n[t],u;if(typeof i=="string")u=i;else switch(i){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=r?" ":"	";break}case-1:{if(!r&&a)continue;u=" ";break}default:u=String.fromCharCode(i)}a=i===-2,e.push(u)}return e.join("")}var at={};le(at,{attentionMarkers:()=>Br,contentInitial:()=>Fr,disable:()=>Lr,document:()=>Er,flow:()=>Ar,flowInitial:()=>Cr,insideSpan:()=>Tr,string:()=>zr,text:()=>Ir});k();var Er={42:J,43:J,45:J,48:J,49:J,50:J,51:J,52:J,53:J,54:J,55:J,56:J,57:J,62:Dn},Fr={91:Xn},Cr={[-2]:Ln,[-1]:Ln,32:Ln},Ar={35:nt,42:dn,45:[Nn,dn],60:et,61:Nn,95:dn,96:Mn,126:Mn},zr={38:_n,92:Pn},Ir={[-5]:On,[-4]:On,[-3]:On,33:it,38:_n,42:Bn,60:[Gn,rt],91:ut,92:[vn,Pn],93:kn,95:Bn,96:Jn},Tr={null:[Bn,Rt]},Br={null:[42,95]},Lr={null:[]};function Wt(n){let t=wt([at,...(n||{}).extensions||[]]),e={defined:[],lazy:{},constructs:t,content:a(Tt),document:a(Lt),flow:a(Mt),string:a(jt),text:a(Ht)};return e;function a(i){return u;function u(o){return Vt(e,i,o)}}}k();var Qt=/[\0\t\n\r]/g;function Ut(){let n=1,r="",t=!0,e;return a;function a(i,u,o){let f=[],m,c,x,h,p;for(i=r+i.toString(u),x=0,r="",t&&(i.charCodeAt(0)===65279&&x++,t=void 0);x<i.length;){if(Qt.lastIndex=x,m=Qt.exec(i),h=m&&m.index!==void 0?m.index:i.length,p=i.charCodeAt(h),!m){r=i.slice(x);break}if(p===10&&x===h&&e)f.push(-3),e=void 0;else switch(e&&(f.push(-5),e=void 0),x<h&&(f.push(i.slice(x,h)),n+=h-x),p){case 0:{f.push(65533),n++;break}case 9:{for(c=Math.ceil(n/4)*4,f.push(-2);n++<c;)f.push(-1);break}case 10:{f.push(-4),n=1;break}default:e=!0,n=1}x=h+1}return o&&(e&&f.push(-5),r&&f.push(r),f.push(null)),f}}k();function $t(n){for(;!Rn(n););return n}k();function Vn(n,r){let t=Number.parseInt(n,r);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"\uFFFD":String.fromCharCode(t)}k();var Or=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Zt(n){return n.replace(Or,Dr)}function Dr(n,r,t){if(r)return r;if(t.charCodeAt(0)===35){let a=t.charCodeAt(1),i=a===120||a===88;return Vn(t.slice(i?2:1),i?16:10)}return wn(t)||n}k();k();function En(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?Yt(n.position):"start"in n||"end"in n?Yt(n):"line"in n||"column"in n?ot(n):""}function ot(n){return Gt(n&&n.line)+":"+Gt(n&&n.column)}function Yt(n){return ot(n&&n.start)+"-"+ot(n&&n.end)}function Gt(n){return n&&typeof n=="number"?n:1}var Kt={}.hasOwnProperty,Wn=function(n,r,t){return typeof r!="string"&&(t=r,r=void 0),Pr(t)($t(Wt(t).document().write(Ut()(n,r,!0))))};function Pr(n){let r={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(ft),autolinkProtocol:N,autolinkEmail:N,atxHeading:o(pt),blockQuote:o(bn),characterEscape:N,characterReference:N,codeFenced:o(xn),codeFencedFenceInfo:f,codeFencedFenceMeta:f,codeIndented:o(xn,f),codeText:o(Un,f),codeTextData:N,data:N,codeFlowValue:N,definition:o(ne),definitionDestinationString:f,definitionLabelString:f,definitionTitleString:f,emphasis:o(te),hardBreakEscape:o(mt),hardBreakTrailing:o(mt),htmlFlow:o(ht,f),htmlFlowData:N,htmlText:o(ht,f),htmlTextData:N,image:o(ee),label:f,link:o(ft),listItem:o(re),listItemValue:L,listOrdered:o(xt,p),listUnordered:o(xt),paragraph:o(ie),reference:yn,referenceString:f,resourceDestinationString:f,resourceTitleString:f,setextHeading:o(pt),strong:o(ue),thematicBreak:o(oe)},exit:{atxHeading:c(),atxHeadingSequence:_,autolink:c(),autolinkEmail:on,autolinkProtocol:Cn,blockQuote:c(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:Fn,characterReferenceMarkerNumeric:Fn,characterReferenceValue:Z,codeFenced:c(H),codeFencedFence:b,codeFencedFenceInfo:O,codeFencedFenceMeta:M,codeFlowValue:B,codeIndented:c(w),codeText:c($),codeTextData:B,data:B,definition:c(),definitionDestinationString:d,definitionLabelString:R,definitionTitleString:j,emphasis:c(),hardBreakEscape:c(T),hardBreakTrailing:c(T),htmlFlow:c(I),htmlFlowData:B,htmlText:c(q),htmlTextData:B,image:c(un),label:tn,labelText:l,lineEnding:F,link:c(en),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Qn,resourceDestinationString:an,resourceTitleString:s,resource:v,setextHeading:c(G),setextHeadingLineSequence:U,setextHeadingText:Q,strong:c(),thematicBreak:c()}};Xt(r,(n||{}).mdastExtensions||[]);let t={};return e;function e(g){let y={type:"root",children:[]},C={stack:[y],tokenStack:[],config:r,enter:m,exit:x,buffer:f,resume:h,setData:i,getData:u},D=[],P=-1;for(;++P<g.length;)if(g[P][1].type==="listOrdered"||g[P][1].type==="listUnordered")if(g[P][0]==="enter")D.push(P);else{let rn=D.pop();P=a(g,rn,P)}for(P=-1;++P<g.length;){let rn=r[g[P][0]];Kt.call(rn,g[P][1].type)&&rn[g[P][1].type].call(Object.assign({sliceSerialize:g[P][2].sliceSerialize},C),g[P][1])}if(C.tokenStack.length>0){let rn=C.tokenStack[C.tokenStack.length-1];(rn[1]||Jt).call(C,void 0,rn[0])}for(y.position={start:fn(g.length>0?g[0][1].start:{line:1,column:1,offset:0}),end:fn(g.length>0?g[g.length-2][1].end:{line:1,column:1,offset:0})},P=-1;++P<r.transforms.length;)y=r.transforms[P](y)||y;return y}function a(g,y,C){let D=y-1,P=-1,rn=!1,pn,ln,An,zn;for(;++D<=C;){let V=g[D];if(V[1].type==="listUnordered"||V[1].type==="listOrdered"||V[1].type==="blockQuote"?(V[0]==="enter"?P++:P--,zn=void 0):V[1].type==="lineEndingBlank"?V[0]==="enter"&&(pn&&!zn&&!P&&!An&&(An=D),zn=void 0):V[1].type==="linePrefix"||V[1].type==="listItemValue"||V[1].type==="listItemMarker"||V[1].type==="listItemPrefix"||V[1].type==="listItemPrefixWhitespace"||(zn=void 0),!P&&V[0]==="enter"&&V[1].type==="listItemPrefix"||P===-1&&V[0]==="exit"&&(V[1].type==="listUnordered"||V[1].type==="listOrdered")){if(pn){let $n=D;for(ln=void 0;$n--;){let sn=g[$n];if(sn[1].type==="lineEnding"||sn[1].type==="lineEndingBlank"){if(sn[0]==="exit")continue;ln&&(g[ln][1].type="lineEndingBlank",rn=!0),sn[1].type="lineEnding",ln=$n}else if(!(sn[1].type==="linePrefix"||sn[1].type==="blockQuotePrefix"||sn[1].type==="blockQuotePrefixWhitespace"||sn[1].type==="blockQuoteMarker"||sn[1].type==="listItemIndent"))break}An&&(!ln||An<ln)&&(pn._spread=!0),pn.end=Object.assign({},ln?g[ln][1].start:V[1].end),g.splice(ln||D,0,["exit",pn,V[2]]),D++,C++}V[1].type==="listItemPrefix"&&(pn={type:"listItem",_spread:!1,start:Object.assign({},V[1].start),end:void 0},g.splice(D,0,["enter",pn,V[2]]),D++,C++,An=void 0,zn=!0)}}return g[y][1]._spread=rn,C}function i(g,y){t[g]=y}function u(g){return t[g]}function o(g,y){return C;function C(D){m.call(this,g(D),D),y&&y.call(this,D)}}function f(){this.stack.push({type:"fragment",children:[]})}function m(g,y,C){return this.stack[this.stack.length-1].children.push(g),this.stack.push(g),this.tokenStack.push([y,C]),g.position={start:fn(y.start)},g}function c(g){return y;function y(C){g&&g.call(this,C),x.call(this,C)}}function x(g,y){let C=this.stack.pop(),D=this.tokenStack.pop();if(D)D[0].type!==g.type&&(y?y.call(this,g,D[0]):(D[1]||Jt).call(this,g,D[0]));else throw new Error("Cannot close `"+g.type+"` ("+En({start:g.start,end:g.end})+"): it\u2019s not open");return C.position.end=fn(g.end),C}function h(){return Zn(this.stack.pop())}function p(){i("expectingFirstListItemValue",!0)}function L(g){if(u("expectingFirstListItemValue")){let y=this.stack[this.stack.length-2];y.start=Number.parseInt(this.sliceSerialize(g),10),i("expectingFirstListItemValue")}}function O(){let g=this.resume(),y=this.stack[this.stack.length-1];y.lang=g}function M(){let g=this.resume(),y=this.stack[this.stack.length-1];y.meta=g}function b(){u("flowCodeInside")||(this.buffer(),i("flowCodeInside",!0))}function H(){let g=this.resume(),y=this.stack[this.stack.length-1];y.value=g.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),i("flowCodeInside")}function w(){let g=this.resume(),y=this.stack[this.stack.length-1];y.value=g.replace(/(\r?\n|\r)$/g,"")}function R(g){let y=this.resume(),C=this.stack[this.stack.length-1];C.label=y,C.identifier=cn(this.sliceSerialize(g)).toLowerCase()}function j(){let g=this.resume(),y=this.stack[this.stack.length-1];y.title=g}function d(){let g=this.resume(),y=this.stack[this.stack.length-1];y.url=g}function _(g){let y=this.stack[this.stack.length-1];if(!y.depth){let C=this.sliceSerialize(g).length;y.depth=C}}function Q(){i("setextHeadingSlurpLineEnding",!0)}function U(g){let y=this.stack[this.stack.length-1];y.depth=this.sliceSerialize(g).charCodeAt(0)===61?1:2}function G(){i("setextHeadingSlurpLineEnding")}function N(g){let y=this.stack[this.stack.length-1],C=y.children[y.children.length-1];(!C||C.type!=="text")&&(C=ae(),C.position={start:fn(g.start)},y.children.push(C)),this.stack.push(C)}function B(g){let y=this.stack.pop();y.value+=this.sliceSerialize(g),y.position.end=fn(g.end)}function F(g){let y=this.stack[this.stack.length-1];if(u("atHardBreak")){let C=y.children[y.children.length-1];C.position.end=fn(g.end),i("atHardBreak");return}!u("setextHeadingSlurpLineEnding")&&r.canContainEols.includes(y.type)&&(N.call(this,g),B.call(this,g))}function T(){i("atHardBreak",!0)}function I(){let g=this.resume(),y=this.stack[this.stack.length-1];y.value=g}function q(){let g=this.resume(),y=this.stack[this.stack.length-1];y.value=g}function $(){let g=this.resume(),y=this.stack[this.stack.length-1];y.value=g}function en(){let g=this.stack[this.stack.length-1];if(u("inReference")){let y=u("referenceType")||"shortcut";g.type+="Reference",g.referenceType=y,delete g.url,delete g.title}else delete g.identifier,delete g.label;i("referenceType")}function un(){let g=this.stack[this.stack.length-1];if(u("inReference")){let y=u("referenceType")||"shortcut";g.type+="Reference",g.referenceType=y,delete g.url,delete g.title}else delete g.identifier,delete g.label;i("referenceType")}function l(g){let y=this.sliceSerialize(g),C=this.stack[this.stack.length-2];C.label=Zt(y),C.identifier=cn(y).toLowerCase()}function tn(){let g=this.stack[this.stack.length-1],y=this.resume(),C=this.stack[this.stack.length-1];if(i("inReference",!0),C.type==="link"){let D=g.children;C.children=D}else C.alt=y}function an(){let g=this.resume(),y=this.stack[this.stack.length-1];y.url=g}function s(){let g=this.resume(),y=this.stack[this.stack.length-1];y.title=g}function v(){i("inReference")}function yn(){i("referenceType","collapsed")}function Qn(g){let y=this.resume(),C=this.stack[this.stack.length-1];C.label=y,C.identifier=cn(this.sliceSerialize(g)).toLowerCase(),i("referenceType","full")}function Fn(g){i("characterReferenceType",g.type)}function Z(g){let y=this.sliceSerialize(g),C=u("characterReferenceType"),D;C?(D=Vn(y,C==="characterReferenceMarkerNumeric"?10:16),i("characterReferenceType")):D=wn(y);let P=this.stack.pop();P.value+=D,P.position.end=fn(g.end)}function Cn(g){B.call(this,g);let y=this.stack[this.stack.length-1];y.url=this.sliceSerialize(g)}function on(g){B.call(this,g);let y=this.stack[this.stack.length-1];y.url="mailto:"+this.sliceSerialize(g)}function bn(){return{type:"blockquote",children:[]}}function xn(){return{type:"code",lang:null,meta:null,value:""}}function Un(){return{type:"inlineCode",value:""}}function ne(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function te(){return{type:"emphasis",children:[]}}function pt(){return{type:"heading",depth:void 0,children:[]}}function mt(){return{type:"break"}}function ht(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function ft(){return{type:"link",title:null,url:"",children:[]}}function xt(g){return{type:"list",ordered:g.type==="listOrdered",start:null,spread:g._spread,children:[]}}function re(g){return{type:"listItem",spread:g._spread,checked:null,children:[]}}function ie(){return{type:"paragraph",children:[]}}function ue(){return{type:"strong",children:[]}}function ae(){return{type:"text",value:""}}function oe(){return{type:"thematicBreak"}}}function fn(n){return{line:n.line,column:n.column,offset:n.offset}}function Xt(n,r){let t=-1;for(;++t<r.length;){let e=r[t];Array.isArray(e)?Xt(n,e):_r(n,e)}}function _r(n,r){let t;for(t in r)if(Kt.call(r,t)){if(t==="canContainEols"){let e=r[t];e&&n[t].push(...e)}else if(t==="transforms"){let e=r[t];e&&n[t].push(...e)}else if(t==="enter"||t==="exit"){let e=r[t];e&&Object.assign(n[t],e)}}}function Jt(n,r){throw n?new Error("Cannot close `"+n.type+"` ("+En({start:n.start,end:n.end})+"): a different token (`"+r.type+"`, "+En({start:r.start,end:r.end})+") is open"):new Error("Cannot close document, a token (`"+r.type+"`, "+En({start:r.start,end:r.end})+") is still open")}k();function Mr(n){let r=n.replace(/\n{2,}/g,`
`);return gt(r)}function Rr(n){let r=Mr(n),{children:t}=Wn(r),e=[[]],a=0;function i(u,o="normal"){u.type==="text"?u.value.split(`
`).forEach((m,c)=>{c!==0&&(a++,e.push([])),m.split(" ").forEach(x=>{x&&e[a].push({content:x,type:o})})}):(u.type==="strong"||u.type==="emphasis")&&u.children.forEach(f=>{i(f,u.type)})}return t.forEach(u=>{u.type==="paragraph"&&u.children.forEach(o=>{i(o)})}),e}function jr(n){let{children:r}=Wn(n);function t(e){return e.type==="text"?e.value.replace(/\n/g,"<br/>"):e.type==="strong"?`<strong>${e.children.map(t).join("")}</strong>`:e.type==="emphasis"?`<em>${e.children.map(t).join("")}</em>`:e.type==="paragraph"?`<p>${e.children.map(t).join("")}</p>`:`Unsupported markdown: ${e.type}`}return r.map(t).join("")}function Hr(n){return Intl.Segmenter?[...new Intl.Segmenter().segment(n)].map(r=>r.segment):[...n]}function qr(n,r){let t=Hr(r.content);return vt(n,[],t,r.type)}function vt(n,r,t,e){if(t.length===0)return[{content:r.join(""),type:e},{content:"",type:e}];let[a,...i]=t,u=[...r,a];return n([{content:u.join(""),type:e}])?vt(n,u,i,e):(r.length===0&&a&&(r.push(a),t.shift()),[{content:r.join(""),type:e},{content:t.join(""),type:e}])}function Nr(n,r){if(n.some(({content:t})=>t.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return lt(n,r)}function lt(n,r,t=[],e=[]){if(n.length===0)return e.length>0&&t.push(e),t.length>0?t:[];let a="";n[0].content===" "&&(a=" ",n.shift());let i=n.shift()??{content:" ",type:"normal"},u=[...e];if(a!==""&&u.push({content:a,type:"normal"}),u.push(i),r(u))return lt(n,r,t,u);if(e.length>0)t.push(e),n.unshift(i);else if(i.content){let[o,f]=qr(r,i);t.push([o]),f.content&&n.unshift(f)}return lt(n,r,t)}function Vr(n,r){r&&n.attr("style",r)}function Wr(n,r,t,e,a=!1){let i=n.append("foreignObject"),u=i.append("xhtml:div"),o=r.label,f=r.isNode?"nodeLabel":"edgeLabel";u.html(`
    <span class="${f} ${e}" `+(r.labelStyle?'style="'+r.labelStyle+'"':"")+">"+o+"</span>"),Vr(u,r.labelStyle),u.style("display","table-cell"),u.style("white-space","nowrap"),u.style("max-width",t+"px"),u.attr("xmlns","http://www.w3.org/1999/xhtml"),a&&u.attr("class","labelBkg");let m=u.node().getBoundingClientRect();return m.width===t&&(u.style("display","table"),u.style("white-space","break-spaces"),u.style("width",t+"px"),m=u.node().getBoundingClientRect()),i.style("width",m.width),i.style("height",m.height),i.node()}function st(n,r,t){return n.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",r*t-.1+"em").attr("dy",t+"em")}function Qr(n,r,t){let e=n.append("text"),a=st(e,1,r);ct(a,t);let i=a.node().getComputedTextLength();return e.remove(),i}function cl(n,r,t){var e;let a=n.append("text"),i=st(a,1,r);ct(i,[{content:t,type:"normal"}]);let u=(e=i.node())==null?void 0:e.getBoundingClientRect();return u&&a.remove(),u}function Ur(n,r,t,e=!1){let i=r.append("g"),u=i.insert("rect").attr("class","background"),o=i.append("text").attr("y","-10.1"),f=0;for(let m of t){let c=h=>Qr(i,1.1,h)<=n,x=c(m)?[m]:Nr(m,c);for(let h of x){let p=st(o,f,1.1);ct(p,h),f++}}if(e){let m=o.node().getBBox(),c=2;return u.attr("x",-c).attr("y",-c).attr("width",m.width+2*c).attr("height",m.height+2*c),i.node()}else return o.node()}function ct(n,r){n.text(""),r.forEach((t,e)=>{let a=n.append("tspan").attr("font-style",t.type==="emphasis"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",t.type==="strong"?"bold":"normal");e===0?a.text(t.content):a.text(" "+t.content)})}var pl=(n,r="",{style:t="",isTitle:e=!1,classes:a="",useHtmlLabels:i=!0,isNode:u=!0,width:o=200,addSvgBackground:f=!1}={})=>{if(kt.info("createText",r,t,e,a,i,u,f),i){let m=jr(r),c={isNode:u,label:dt(m).replace(/fa[blrs]?:fa-[\w-]+/g,h=>`<i class='${h.replace(":"," ")}'></i>`),labelStyle:t.replace("fill:","color:")};return Wr(n,c,o,a,f)}else{let m=Rr(r);return Ur(o,n,m,f)}};export{cl as a,pl as b};
